<!--
Project name: Assignment 2: myBudget App
File name: current-expenses.ejs
Author's name: Daria Davydenko
Web-site: https://mybudget-app.herokuapp.com/
File description: This is a page with a table to see and edit all expenses.
Pictures were taken from www.pexels.com
Framework: https://materializecss.com/
-->

<% include partials/header %>
  <% include partials/navbar %>
  <!-- MAIN BANNER -->
  <div class="banner">
    <img src="/images/expenses.jpg" alt="Expenses" class="responsive-img">
    <div class="banner-text banner-home-text">
      <h1><%= title %></h1>
    </div>
  </div>
  <!-- END MAIN BANNER -->


  <!-- TABLE -->
  <div class="container">
    <a href="/add-expenses" class="right btn-floating btn-large waves-effect waves-light blue"><i class="material-icons">add</i></a>
    <a href="/current-expenses/api" class="waves-effect waves-light btn-small"><i class="material-icons left">cloud</i>Get API</a>
    <table class="table-expenses">
      <thead>
        <tr>
          <th>Month</th>
          <th>Rent</th>
          <th>Food</th>
          <th>Buspass</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% for (let i = 0; i < expenses.length; i++) { %>
          <tr>
            <th><%= expenses[i].month %></th>
            <th><%= expenses[i].rent %></th>
            <th><%= expenses[i].food %></th>
            <th><%= expenses[i].buspass %></th>
            <th><a href="/update-expenses/<%= expenses[i]._id %>" class="waves-effect waves-light btn-small"><i class="material-icons left">cloud</i>update</a</th>
            <th><a href="/delete-expenses/<%= expenses[i]._id %>" class="waves-effect waves-light btn-small" onclick="return confirm('Are you sure you want to delete this?');"><i class="material-icons left">cloud</i>delete</a</th>
          </tr>
          <% } %>
      </tbody>
    </table>
  </div>

  <!-- END TABLE -->

    <% include partials/footer %>
